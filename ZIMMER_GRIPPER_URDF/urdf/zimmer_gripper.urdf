<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="robot">
	
	<!--MATERIALS-->
	<material name="silver">
		<color rgba="0.75 0.75 0.75 1"/>
	</material>

	<material name="gold">
		<color rgba="0.90 0.80 0 1"/>
	</material>

	<material name="black">
		<color rgba="0 0 0 1"/>
	</material>
	
	<!--CONSTANTS-->
	<!-- t = thickness | d = depth | w = width | h = height | s = shift -->
	<xacro:property name="camera_d" value="0.032"/>
	<xacro:property name="mount_t" value="0.0025"/>
	<xacro:property name="gripper_plate_t" value="0.00647"/>
	<xacro:property name="mount_plate_t" value="0.00317"/>
	<xacro:property name="zimmer_box_d" value="0.045"/>
	<xacro:property name="top_mid_mount_plate_t" value="0.0654"/>
	<xacro:property name="camera_h" value="0.03"/>
	<xacro:property name="finger_h" value="0.01092"/>
	<xacro:property name="slide_horiz_s" value="0.052918"/>
	<xacro:property name="slide_vert_s" value="0.0106987"/>
	<xacro:property name="finger_d_s" value="0.060325"/>
	<xacro:property name="grip_s" value="0.0577"/>

	<!--MOUNT-->
	<link name="base_link">
    	<visual>
			<origin rpy="0.0 0 0" xyz="0 0 0"/>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/CAMERA_MOUNT_VISUAL.STL"/>
			</geometry>
			<material name="gold"/>
		</visual>
		<collision>
      		<origin rpy="0.0 0 0" xyz="0 0 0"/>
      		<geometry>
        		<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/CAMERA_MOUNT.STL"/>
      		</geometry>
    	</collision>
  	</link>

	<!--CAMERA-->
	<link name="camera">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/CAMERA_VISUAL_BASE.STL"/>
			</geometry>
			<material name="silver"/>
			<origin rpy="0 0 0" xyz="${camera_d + mount_t} 0 0"/>
		</visual>
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/CAMERA_VISUAL_GLASS.STL"/>
			</geometry>
			<material name="silver"/>
			<origin rpy="0 0 0" xyz="${camera_d + mount_t} 0 0"/>
		</visual>
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/CAMERA_VISUAL_FRAME.STL"/>
			</geometry>
			<material name="silver"/>
			<origin rpy="0 0 0" xyz="${camera_d + mount_t} 0 0"/>
		</visual>
		<collision>
      		<origin rpy="0.0 0 0" xyz="${camera_d + mount_t} 0 0"/>
      		<geometry>
        		<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/CAMERA.STL"/>
      		</geometry>
    	</collision>
	</link>

	<joint name="camera_to_camera_mount" type="fixed">
		<parent link="base_link"/>
		<child link="camera"/>
	</joint>

	<!--MOUNT ADAPTER PLATE 3.175mm-->
	<link name="mount_adapter">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/MOUNT_PLATE_VISUAL.STL"/>
			</geometry>
			<material name="gold"/>
			<origin rpy="0 0 0" xyz="${camera_d + mount_t} 0 ${-1*(top_mid_mount_plate_t + camera_h)}"/>
		</visual>
		<collision>
			<origin rpy="0 0 0" xyz="${camera_d + mount_t} 0 ${-1*(top_mid_mount_plate_t + camera_h)}"/>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/MOUNT_PLATE.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="mount_adapter" type="fixed">
		<parent link="base_link"/>
		<child link="mount_adapter"/>
	</joint>

	<!--GRIPPER ADAPTER PLATE 6.47mm-->	
	<link name="gripper_adapter">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/GRIPPER_PLATE_VISUAL.STL"/>
			</geometry>
			<material name="gold"/>
			<origin rpy="0 0 0" xyz="0.036975 0 ${-1*(top_mid_mount_plate_t + camera_h)}"/>
		</visual>
		<collision>
			<origin rpy="0 0 0" xyz="0.036975 0 ${-1*(top_mid_mount_plate_t + camera_h)}"/>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/GRIPPER_PLATE.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="gripper_adapter" type="fixed">
		<parent link="mount_adapter"/>
		<child link="gripper_adapter"/>
	</joint>

	<!--ZIMMER BOX 130mm x 62mm x 45mm-->	
	<link name="zimmer_box">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/ZIMMER_BOX.STL"/>
			</geometry>
			<material name="black"/>
		</visual>
		<collision>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/ZIMMER_BOX.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="zimmer_base_to_plate" type="fixed">
		<parent link="gripper_adapter"/>
		<child link="zimmer_box"/>
		<origin rpy="0 0 0" xyz="0.08706 0 ${-1*(top_mid_mount_plate_t + camera_h)}"/>
	</joint>

	<!--LEFT SLIDE-->
	<link name="left_slide">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/ZIMMER_SLIDE.STL"/>
			</geometry>
			<material name="silver"/>
		</visual>
		<collision>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/ZIMMER_SLIDE.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="slide_to_box_L" type="prismatic">
		<parent link="zimmer_box"/>
		<child link="left_slide"/>
		<origin rpy="0 0 0" xyz="0 ${-1 * slide_horiz_s} ${slide_vert_s}"/>
		<limit effort="1000" lower="${-1 * grip_s}" upper="${grip_s}" velocity="0.5"/>
		<axis xyz="0 1 0"/>
	</joint>

	<!--ZIMMER FINGER LEFT-->
	<link name="left_finger">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/PRETTY_FINGER.STL"/>
			</geometry>
			<material name="gold"/>
		</visual>
		<collision>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/UGLY_FINGER.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="slide_to_finger_L" type="fixed">
		<parent link="left_slide"/>
		<child link="left_finger"/>
		<origin rpy="0 0 0" xyz="${finger_d_s} 0 0"/>
	</joint>

	<!--RIGHT SLIDE-->
	<link name="right_slide">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/ZIMMER_SLIDE.STL"/>
			</geometry>
			<material name="silver"/>
		</visual>
		<collision>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/ZIMMER_SLIDE.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="slide_to_box_R" type="prismatic">
		<parent link="zimmer_box"/>
		<child link="right_slide"/>
		<origin rpy="3.1415 0 0" xyz="0 ${slide_horiz_s} ${-1 * slide_vert_s}"/>
		<limit effort="1000" lower="${-1 * grip_s}" upper="${grip_s}" velocity="0.5"/>
		<axis xyz="0 1 0"/>
	</joint>

	<!--ZIMMER FINGER RIGHT-->
	<link name="right_finger">
		<visual>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/PRETTY_FINGER.STL"/>
			</geometry>
			<material name="gold"/>
		</visual>
		<collision>
			<geometry>
				<mesh filename="file:///home/feykenews/ros2_humble/src/ZIMMER_GRIPPER_URDF/meshes/UGLY_FINGER.STL"/>
			</geometry>
		</collision>
	</link>

	<joint name="slide_to_finger_R" type="fixed">
		<parent link="right_slide"/>
		<child link="right_finger"/>
		<origin rpy="0 0 0" xyz="${finger_d_s} 0 0"/>
	</joint>
</robot>
